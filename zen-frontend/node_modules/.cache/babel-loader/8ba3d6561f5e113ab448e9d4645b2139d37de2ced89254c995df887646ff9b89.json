{"ast":null,"code":"var _jsxFileName = \"E:\\\\Ai Agents\\\\Langchian\\\\zen-frontend\\\\src\\\\pages\\\\VisualizationCoachScreen.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { VisualizationContext } from '../context/VisualizationContext';\nimport './VisualizationCoachScreen.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst questions = [{\n  key: 'emotion',\n  text: 'How are you feeling right now?',\n  options: ['Happy', 'Sad', 'Anxious', 'Calm', 'Excited', 'Tired']\n}, {\n  key: 'focus',\n  text: 'What’s been on your mind lately?',\n  options: ['Work', 'Relationships', 'Health', 'Future', 'Creativity', 'Nothing much']\n}, {\n  key: 'dream',\n  text: 'What’s one thing you wish was true in your life?',\n  options: ['Financial freedom', 'Better relationships', 'Career success', 'Inner peace', 'Good health', 'More travel']\n}, {\n  key: 'desired_feeling',\n  text: 'What do you want to feel more of?',\n  options: ['Peace', 'Joy', 'Confidence', 'Motivation', 'Clarity', 'Gratitude']\n}];\nconst VisualizationCoachScreen = () => {\n  _s();\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n  const [answers, setAnswers] = useState({});\n  const [freeText, setFreeText] = useState('');\n  const navigate = useNavigate();\n  const {\n    setVisualizationData\n  } = useContext(VisualizationContext);\n  const handleOptionClick = option => {\n    handleNext(option);\n  };\n  const handleFreeTextChange = e => {\n    setFreeText(e.target.value);\n  };\n  const handleNext = value => {\n    const currentQuestion = questions[currentQuestionIndex];\n    const newAnswers = {\n      ...answers,\n      [currentQuestion.key]: value\n    };\n    setAnswers(newAnswers);\n    setFreeText('');\n    if (currentQuestionIndex < questions.length - 1) {\n      setCurrentQuestionIndex(currentQuestionIndex + 1);\n    } else {\n      setVisualizationData(newAnswers); // Save final answers to context\n      // Send data to the backend\n      const meditationInput = {\n        quiz_answers: Object.values(newAnswers),\n        user_input: \"Generate a meditation based on my answers.\",\n        voice_pref: \"alloy\",\n        // Default voice\n        music_pref: \"Calm\" // Default music style\n      };\n      fetch('http://localhost:8000/meditate', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(meditationInput)\n      }).then(response => response.json()).then(data => {\n        console.log('Backend Response:', data);\n        if (data.meditation_text) {\n          navigate('/meditate', {\n            state: {\n              meditation: data\n            }\n          });\n        } else {\n          console.error('Failed to get meditation data:', data);\n        }\n      }).catch(error => {\n        console.error('Error:', error);\n        // Optionally, handle the error, e.g., show a message to the user\n      });\n    }\n  };\n  const handleSkip = () => {\n    handleNext('Not sure');\n  };\n  const currentQuestion = questions[currentQuestionIndex];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"coach-screen\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"coach-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"coach-question\",\n        children: currentQuestion.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"options-container\",\n        children: currentQuestion.options.map(option => /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"option-chip\",\n          onClick: () => handleOptionClick(option),\n          children: option\n        }, option, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"free-text-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"free-text-input\",\n          placeholder: \"Or type your own...\",\n          value: freeText,\n          onChange: handleFreeTextChange,\n          onKeyDown: e => e.key === 'Enter' && freeText.trim() && handleNext(freeText.trim())\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"send-button\",\n          onClick: () => freeText.trim() && handleNext(freeText.trim()),\n          disabled: !freeText.trim(),\n          children: \"\\u27A4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"skip-button\",\n        onClick: handleSkip,\n        children: \"Skip\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 9\n  }, this);\n};\n_s(VisualizationCoachScreen, \"NEqz48r04Yd9j+/NP75OZ3aPwCY=\", false, function () {\n  return [useNavigate];\n});\n_c = VisualizationCoachScreen;\nexport default VisualizationCoachScreen;\nvar _c;\n$RefreshReg$(_c, \"VisualizationCoachScreen\");","map":{"version":3,"names":["React","useState","useContext","useNavigate","VisualizationContext","jsxDEV","_jsxDEV","questions","key","text","options","VisualizationCoachScreen","_s","currentQuestionIndex","setCurrentQuestionIndex","answers","setAnswers","freeText","setFreeText","navigate","setVisualizationData","handleOptionClick","option","handleNext","handleFreeTextChange","e","target","value","currentQuestion","newAnswers","length","meditationInput","quiz_answers","Object","values","user_input","voice_pref","music_pref","fetch","method","headers","body","JSON","stringify","then","response","json","data","console","log","meditation_text","state","meditation","error","catch","handleSkip","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","onClick","type","placeholder","onChange","onKeyDown","trim","disabled","_c","$RefreshReg$"],"sources":["E:/Ai Agents/Langchian/zen-frontend/src/pages/VisualizationCoachScreen.js"],"sourcesContent":["import React, { useState, useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { VisualizationContext } from '../context/VisualizationContext';\nimport './VisualizationCoachScreen.css';\n\nconst questions = [\n    {\n        key: 'emotion',\n        text: 'How are you feeling right now?',\n        options: ['Happy', 'Sad', 'Anxious', 'Calm', 'Excited', 'Tired'],\n    },\n    {\n        key: 'focus',\n        text: 'What’s been on your mind lately?',\n        options: ['Work', 'Relationships', 'Health', 'Future', 'Creativity', 'Nothing much'],\n    },\n    {\n        key: 'dream',\n        text: 'What’s one thing you wish was true in your life?',\n        options: ['Financial freedom', 'Better relationships', 'Career success', 'Inner peace', 'Good health', 'More travel'],\n    },\n    {\n        key: 'desired_feeling',\n        text: 'What do you want to feel more of?',\n        options: ['Peace', 'Joy', 'Confidence', 'Motivation', 'Clarity', 'Gratitude'],\n    },\n];\n\nconst VisualizationCoachScreen = () => {\n    const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n    const [answers, setAnswers] = useState({});\n    const [freeText, setFreeText] = useState('');\n    const navigate = useNavigate();\n    const { setVisualizationData } = useContext(VisualizationContext);\n\n    const handleOptionClick = (option) => {\n        handleNext(option);\n    };\n\n    const handleFreeTextChange = (e) => {\n        setFreeText(e.target.value);\n    };\n\n    const handleNext = (value) => {\n        const currentQuestion = questions[currentQuestionIndex];\n        const newAnswers = { ...answers, [currentQuestion.key]: value };\n        setAnswers(newAnswers);\n        setFreeText('');\n\n        if (currentQuestionIndex < questions.length - 1) {\n            setCurrentQuestionIndex(currentQuestionIndex + 1);\n        } else {\n            setVisualizationData(newAnswers); // Save final answers to context\n            // Send data to the backend\n                                    const meditationInput = {\n                quiz_answers: Object.values(newAnswers),\n                user_input: \"Generate a meditation based on my answers.\",\n                voice_pref: \"alloy\", // Default voice\n                music_pref: \"Calm\" // Default music style\n            };\n\n            fetch('http://localhost:8000/meditate', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify(meditationInput),\n            })\n            .then(response => response.json())\n            .then(data => {\n                console.log('Backend Response:', data);\n                if (data.meditation_text) {\n                    navigate('/meditate', { state: { meditation: data } });\n                } else {\n                    console.error('Failed to get meditation data:', data);\n                }\n            })\n            .catch((error) => {\n                console.error('Error:', error);\n                // Optionally, handle the error, e.g., show a message to the user\n            });\n        }\n    };\n\n    const handleSkip = () => {\n        handleNext('Not sure');\n    };\n\n    const currentQuestion = questions[currentQuestionIndex];\n\n    return (\n        <div className=\"coach-screen\">\n            <div className=\"coach-container\">\n                <p className=\"coach-question\">{currentQuestion.text}</p>\n                <div className=\"options-container\">\n                    {currentQuestion.options.map((option) => (\n                        <button key={option} className=\"option-chip\" onClick={() => handleOptionClick(option)}>\n                            {option}\n                        </button>\n                    ))}\n                </div>\n                <div className=\"free-text-container\">\n                    <input\n                        type=\"text\"\n                        className=\"free-text-input\"\n                        placeholder=\"Or type your own...\"\n                        value={freeText}\n                        onChange={handleFreeTextChange}\n                        onKeyDown={(e) => e.key === 'Enter' && freeText.trim() && handleNext(freeText.trim())}\n                    />\n                    <button className=\"send-button\" onClick={() => freeText.trim() && handleNext(freeText.trim())} disabled={!freeText.trim()}>\n                        &#10148; \n                    </button>\n                </div>\n                <button className=\"skip-button\" onClick={handleSkip}>\n                    Skip\n                </button>\n            </div>\n        </div>\n    );\n};\n\nexport default VisualizationCoachScreen;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}